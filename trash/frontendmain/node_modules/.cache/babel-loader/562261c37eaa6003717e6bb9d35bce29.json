{"ast":null,"code":"var _jsxFileName = \"/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontendmain/src/pages/Issue.js\";\nimport React, { Component } from 'react';\nimport Reference from '../Cards/Reference';\nimport ReferenceForm from '../components/ReferenceForm';\nimport ReferencesContainer from '../containers/ReferencesContainer';\nimport ReferenceUrlContainer from '../containers/ReferenceUrlContainer';\nconst referencesURL = \"http://localhost:3000/references\";\n\nclass Issue extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      references: [],\n      url: \"\"\n    };\n\n    this.fetchReferences = () => {\n      fetch(referencesURL, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => res.json()).then(references => this.setState({\n        references: references.filter(reference => reference.issue_id == this.props.issue.id)\n      }));\n    };\n\n    this.referenceHandler = data => {\n      this.setState({\n        references: [...this.state.references, data]\n      });\n    };\n\n    this.referenceHover = reference => {\n      console.log(reference);\n      this.setState({\n        url: reference.url\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchReferences();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"issue\",\n      style: {\n        backgroundImage: `url(${process.env.PUBLIC_URL + '/desktop_3.jpeg'})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, this.props.issue.issue_name), /*#__PURE__*/React.createElement(ReferenceForm, {\n      issue: this.props.issue,\n      newReferences: this.referenceHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ReferencesContainer, {\n      referenceHover: this.referenceHover,\n      references: this.state.references,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Reference, {\n      url: this.state.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Issue;","map":{"version":3,"sources":["/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontendmain/src/pages/Issue.js"],"names":["React","Component","Reference","ReferenceForm","ReferencesContainer","ReferenceUrlContainer","referencesURL","Issue","state","references","url","fetchReferences","fetch","method","headers","localStorage","getItem","then","res","json","setState","filter","reference","issue_id","props","issue","id","referenceHandler","data","referenceHover","console","log","componentDidMount","render","backgroundImage","process","env","PUBLIC_URL","issue_name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,mBAAP,MAAgC,mCAAhC;AACA,OAAOC,qBAAP,MAAkC,qCAAlC;AAEA,MAAMC,aAAa,GAAG,kCAAtB;;AAEA,MAAMC,KAAN,SAAoBN,SAApB,CAA8B;AAAA;AAAA;AAAA,SAG9BO,KAH8B,GAGtB;AACJC,MAAAA,UAAU,EAAE,EADR;AAEJC,MAAAA,GAAG,EAAE;AAFD,KAHsB;;AAAA,SAY9BC,eAZ8B,GAYZ,MAAM;AACpBC,MAAAA,KAAK,CAACN,aAAD,EACD;AAACO,QAAAA,MAAM,EAAC,KAAR;AACCC,QAAAA,OAAO,EAAE;AAAC,2BAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAA1D;AADV,OADC,CAAL,CAICC,IAJD,CAIMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJb,EAKCF,IALD,CAKMR,UAAU,IAAI,KAAKW,QAAL,CAAc;AAACX,QAAAA,UAAU,EAAEA,UAAU,CAACY,MAAX,CAAkBC,SAAS,IAAIA,SAAS,CAACC,QAAV,IAAsB,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,EAAtE;AAAb,OAAd,CALpB;AAMH,KAnB6B;;AAAA,SAqB1BC,gBArB0B,GAqBNC,IAAD,IAAU;AACzB,WAAKR,QAAL,CAAc;AAAEX,QAAAA,UAAU,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,UAAf,EAA2BmB,IAA3B;AAAd,OAAd;AACH,KAvByB;;AAAA,SAyB1BC,cAzB0B,GAyBRP,SAAD,IAAe;AAC5BQ,MAAAA,OAAO,CAACC,GAAR,CAAYT,SAAZ;AACA,WAAKF,QAAL,CAAc;AAACV,QAAAA,GAAG,EAAEY,SAAS,CAACZ;AAAhB,OAAd;AACH,KA5ByB;AAAA;;AAQ9BsB,EAAAA,iBAAiB,GAAG;AAChB,SAAKrB,eAAL;AACH;;AAoBGsB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAuB,MAAA,KAAK,EAAE;AAAEC,QAAAA,eAAe,EAAG,OAAMC,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyB,iBAAkB;AAArE,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKb,KAAL,CAAWC,KAAX,CAAiBa,UAAtB,CADJ,eAEI,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWC,KAAjC;AAAwC,MAAA,aAAa,EAAE,KAAKE,gBAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI,oBAAC,mBAAD;AAAqB,MAAA,cAAc,EAAE,KAAKE,cAA1C;AAA0D,MAAA,UAAU,EAAE,KAAKrB,KAAL,CAAWC,UAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAII,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAE,KAAKD,KAAL,CAAWE,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AAQH;;AAvCyB;;AA0C9B,eAAeH,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport Reference from '../Cards/Reference';\nimport ReferenceForm from '../components/ReferenceForm';\nimport ReferencesContainer from '../containers/ReferencesContainer';\nimport ReferenceUrlContainer from '../containers/ReferenceUrlContainer';\n\nconst referencesURL = \"http://localhost:3000/references\"\n\nclass Issue extends Component {\n    \n\nstate = {\n    references: [],\n    url: \"\"\n}\n\ncomponentDidMount() {\n    this.fetchReferences()\n}\n\nfetchReferences = () => {\n    fetch(referencesURL, \n        {method:'GET',\n         headers: {'Authorization': `Bearer ${localStorage.getItem(\"token\")}`}\n        })\n    .then(res => res.json())\n    .then(references => this.setState({references: references.filter(reference => reference.issue_id == this.props.issue.id)}))\n}\n\n    referenceHandler = (data) => {\n        this.setState({ references: [...this.state.references, data] })\n    }\n\n    referenceHover = (reference) => {\n        console.log(reference)\n        this.setState({url: reference.url})\n    }\n\n    render() { \n        return ( \n            <div className=\"issue\" style={{ backgroundImage: `url(${process.env.PUBLIC_URL + '/desktop_3.jpeg'})` }}>\n                <h2>{this.props.issue.issue_name}</h2>\n                <ReferenceForm issue={this.props.issue} newReferences={this.referenceHandler}/>\n                <ReferencesContainer referenceHover={this.referenceHover} references={this.state.references}/>\n                <Reference url={this.state.url}/>\n            </div>\n         );\n    }\n}\n \nexport default Issue;"]},"metadata":{},"sourceType":"module"}