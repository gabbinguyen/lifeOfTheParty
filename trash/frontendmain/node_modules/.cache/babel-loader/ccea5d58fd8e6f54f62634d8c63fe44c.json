{"ast":null,"code":"var _jsxFileName = \"/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontendmain/src/components/IssueForm.js\";\nimport React, { Component } from 'react';\nimport { Form, Grid, Button, Header, Segment, Modal, Icon, TextArea } from 'semantic-ui-react';\nconst issuesURL = \"http://localhost:3000/issues\";\n\nclass IssueForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      issue_name: \"\",\n      priority: \"\",\n      description: \"\",\n      in_progress: true,\n      project_id: this.props.project.id,\n      issues: [],\n      modalOpen: false\n    };\n\n    this.fetchIssues = () => {\n      fetch(issuesURL, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => res.json()).then(issues => this.setState({\n        issues: issues.filter(issue => issue.project_id == this.props.project.id)\n      }));\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = () => {\n      fetch(issuesURL, {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: JSON.stringify({\n          \"issue_name\": this.state.issue_name,\n          \"priority\": this.state.priority,\n          \"description\": this.state.description,\n          \"project_id\": this.state.project_id,\n          \"in_progress\": this.state.in_progress\n        })\n      }).then(res => res.json()).then(() => this.fetchIssues());\n      this.props.newIssues(this.state);\n      this.handleModal();\n    };\n\n    this.handleModal = () => {\n      this.setState({\n        modalOpen: !this.state.modalOpen\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Modal, {\n      trigger: /*#__PURE__*/React.createElement(Button, {\n        className: \"issue-button\",\n        onClick: this.handleModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 26\n        }\n      }, \"+ Issue\"),\n      open: this.state.modalOpen,\n      onClose: this.handleModal,\n      basic: true,\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      icon: \"add\",\n      content: \"Issue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, \"What seems to be the issue?\"), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, \"Issue Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"issue_name\",\n      placeholder: \"Issue Name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"Priority\"), /*#__PURE__*/React.createElement(\"select\", {\n      type: \"text\",\n      placeholder: \"select\",\n      name: \"priority\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      name: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      name: \"low\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, \" Low\"), /*#__PURE__*/React.createElement(\"option\", {\n      name: \"medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, \"Medium\"), /*#__PURE__*/React.createElement(\"option\", {\n      name: \"high\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \"High\")), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 26\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(TextArea, {\n      type: \"text\",\n      name: \"description\",\n      placeholder: \"Tell us more\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Modal.Actions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"green\",\n      onClick: this.handleSubmit,\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"checkmark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }), \" Submit\")));\n  }\n\n}\n\nexport default IssueForm;","map":{"version":3,"sources":["/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontendmain/src/components/IssueForm.js"],"names":["React","Component","Form","Grid","Button","Header","Segment","Modal","Icon","TextArea","issuesURL","IssueForm","state","issue_name","priority","description","in_progress","project_id","props","project","id","issues","modalOpen","fetchIssues","fetch","method","headers","localStorage","getItem","then","res","json","setState","filter","issue","handleChange","event","target","name","value","handleSubmit","body","JSON","stringify","newIssues","handleModal","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,MAArB,EAA6BC,MAA7B,EAAqCC,OAArC,EAA8CC,KAA9C,EAAqDC,IAArD,EAA2DC,QAA3D,QAA2E,mBAA3E;AAGA,MAAMC,SAAS,GAAG,8BAAlB;;AAEA,MAAMC,SAAN,SAAwBV,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAE9BW,KAF8B,GAEtB;AAEJC,MAAAA,UAAU,EAAE,EAFR;AAGJC,MAAAA,QAAQ,EAAE,EAHN;AAIJC,MAAAA,WAAW,EAAE,EAJT;AAKJC,MAAAA,WAAW,EAAE,IALT;AAMJC,MAAAA,UAAU,EAAE,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,EAN3B;AAOJC,MAAAA,MAAM,EAAE,EAPJ;AAQJC,MAAAA,SAAS,EAAE;AARP,KAFsB;;AAAA,SAa9BC,WAb8B,GAahB,MAAM;AAChBC,MAAAA,KAAK,CAACd,SAAD,EACD;AAACe,QAAAA,MAAM,EAAC,KAAR;AACCC,QAAAA,OAAO,EAAE;AAAC,2BAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAA1D;AADV,OADC,CAAL,CAICC,IAJD,CAIMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJb,EAKCF,IALD,CAKMR,MAAM,IAAI,KAAKW,QAAL,CAAc;AAACX,QAAAA,MAAM,EAAEA,MAAM,CAACY,MAAP,CAAcC,KAAK,IAAIA,KAAK,CAACjB,UAAN,IAAoB,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,EAA9D;AAAT,OAAd,CALhB;AAMH,KApB6B;;AAAA,SAuB9Be,YAvB8B,GAuBdC,KAAD,IAAW;AACtB,WAAKJ,QAAL,CAAc;AACZ,SAACI,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AADtB,OAAd;AAGD,KA3B2B;;AAAA,SA8B9BC,YA9B8B,GA8Bf,MAAM;AACjBhB,MAAAA,KAAK,CAACd,SAAD,EAAY;AACfe,QAAAA,MAAM,EAAE,MADO;AAEfC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB,kBAFT;AAGP,2BAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAHlD,SAFM;AAOfa,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAgB;AACpB,wBAAc,KAAK/B,KAAL,CAAWC,UADL;AAEpB,sBAAY,KAAKD,KAAL,CAAWE,QAFH;AAGpB,yBAAe,KAAKF,KAAL,CAAWG,WAHN;AAIpB,wBAAc,KAAKH,KAAL,CAAWK,UAJL;AAKpB,yBAAc,KAAKL,KAAL,CAAWI;AALL,SAAhB;AAPS,OAAZ,CAAL,CAeCa,IAfD,CAeMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAfb,EAgBCF,IAhBD,CAgBM,MAAM,KAAKN,WAAL,EAhBZ;AAiBA,WAAKL,KAAL,CAAW0B,SAAX,CAAqB,KAAKhC,KAA1B;AACA,WAAKiC,WAAL;AACK,KAlDqB;;AAAA,SAoD9BA,WApD8B,GAoDhB,MAAM;AAChB,WAAKb,QAAL,CAAc;AAAEV,QAAAA,SAAS,EAAE,CAAC,KAAKV,KAAL,CAAWU;AAAzB,OAAd;AACH,KAtD6B;AAAA;;AAwD9BwB,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,KAAD;AACI,MAAA,OAAO,eAAE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,OAAO,EAAE,KAAKD,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADb;AAEI,MAAA,IAAI,EAAE,KAAKjC,KAAL,CAAWU,SAFrB;AAGI,MAAA,OAAO,EAAE,KAAKuB,WAHlB;AAII,MAAA,KAAK,MAJT;AAKI,MAAA,IAAI,EAAC,OALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,KAAb;AAAmB,MAAA,OAAO,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAQI,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ,eAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,YAAxB;AAAqC,MAAA,WAAW,EAAC,YAAjD;AAA8D,MAAA,QAAQ,EAAE,KAAKV,YAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,WAAW,EAAC,QAAhC;AAAyC,MAAA,IAAI,EAAC,UAA9C;AAAyD,MAAA,QAAQ,EAAE,KAAKA,YAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,IAAI,EAAC,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAQ,MAAA,IAAI,EAAC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,CAJJ,eAUK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAVL,eAWI,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAC,MAAf;AAAsB,MAAA,IAAI,EAAC,aAA3B;AAAyC,MAAA,WAAW,EAAC,cAArD;AAAoE,MAAA,QAAQ,EAAE,KAAKA,YAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,CAFJ,CARJ,eAwBI,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAsB,MAAA,OAAO,EAAE,KAAKK,YAApC;AAAkD,MAAA,QAAQ,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,YADJ,CAxBJ,CADJ;AAgCH;;AAzF6B;;AA4FlC,eAAe7B,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Grid, Button, Header, Segment, Modal, Icon, TextArea } from 'semantic-ui-react'\n\n\nconst issuesURL = \"http://localhost:3000/issues\"\n\nclass IssueForm extends Component {\n\n    state = {\n        \n        issue_name: \"\",\n        priority: \"\",\n        description: \"\",\n        in_progress: true,\n        project_id: this.props.project.id,\n        issues: [],\n        modalOpen: false,\n    }\n\n    fetchIssues = () => {\n        fetch(issuesURL, \n            {method:'GET',\n             headers: {'Authorization': `Bearer ${localStorage.getItem(\"token\")}`}\n            })\n        .then(res => res.json())\n        .then(issues => this.setState({issues: issues.filter(issue => issue.project_id == this.props.project.id)}))\n    }\n\n\n    handleChange = (event) => { \n        this.setState({\n          [event.target.name]: event.target.value\n        })\n      }\n\n    \n    handleSubmit = () => {\n        fetch(issuesURL, {\n          method: \"POST\",\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n          },\n          body: JSON.stringify ({\n            \"issue_name\": this.state.issue_name,\n            \"priority\": this.state.priority,\n            \"description\": this.state.description,\n            \"project_id\": this.state.project_id,\n            \"in_progress\":this.state.in_progress\n          })\n        })\n        .then(res => res.json())\n        .then(() => this.fetchIssues())\n        this.props.newIssues(this.state)\n        this.handleModal()\n            }\n\n    handleModal = () => {\n        this.setState({ modalOpen: !this.state.modalOpen })         \n    }\n\n    render() {\n        return (\n            <Modal\n                trigger={<Button className=\"issue-button\" onClick={this.handleModal}>+ Issue</Button>}\n                open={this.state.modalOpen}\n                onClose={this.handleModal}\n                basic\n                size='small'\n            >\n                <Header icon='add' content='Issue' />\n                <Modal.Content>\n                    <h3>What seems to be the issue?</h3>\n                    <Form >\n                        <h4>Issue Name</h4>\n                        <input type=\"text\" name=\"issue_name\" placeholder=\"Issue Name\" onChange={this.handleChange} />\n                        <h4>Priority</h4>\n                        <select type=\"text\" placeholder=\"select\" name=\"priority\" onChange={this.handleChange}> \n                            <option name=\"\" ></option>\n                            <option name=\"low\"> Low</option>\n                            <option name=\"medium\">Medium</option>\n                            <option name=\"high\">High</option>\n                         </select>\n                         <h4>Description</h4>\n                        <TextArea type=\"text\" name=\"description\" placeholder='Tell us more' onChange={this.handleChange}/>\n                    </Form>\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button color='green' onClick={this.handleSubmit} inverted>\n                        <Icon name='checkmark' /> Submit\n              </Button>\n                </Modal.Actions>\n            </Modal>\n        );\n    }\n}\n\nexport default IssueForm;"]},"metadata":{},"sourceType":"module"}