{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontend/src/components/Login.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport { withRouter } from 'react-router'; // import {Button} from 'react-bootstrap'\n\nimport { Button, Checkbox, Form } from 'semantic-ui-react';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const logUser = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      fetch('http://localhost:3000/login', {\n        method: 'POST',\n        headers: {\n          \"Accept\": \"application/json\",\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(logUser)\n      }).then(res => res.json()).then(token => {\n        if (token[\"auth_key\"]) {\n          localStorage.setItem('auth_key', token[\"auth_key\"]);\n          this.props.handleLogin(token);\n          this.props.history.push('/dashboard');\n        } else {\n          alert(token[\"msg\"]);\n        }\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        value: this.state.email,\n        placeholder: \"Email\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 121\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        placeholder: \"Password\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 134\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        \"text-align\": \"center\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: this.state.errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontend/src/components/Login.js"],"names":["React","Component","withRouter","Button","Checkbox","Form","Login","constructor","handleChange","e","name","value","target","setState","handleSubmit","preventDefault","logUser","email","state","password","fetch","method","headers","body","JSON","stringify","then","res","json","token","localStorage","setItem","props","handleLogin","history","push","alert","render","errorMsg"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAAQC,UAAR,QAAyB,cAAzB,C,CACA;;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,IAA3B,QAAuC,mBAAvC;;AAGA,MAAMC,KAAN,SAAoBL,SAApB,CAA8B;AAC5BM,EAAAA,WAAW,GAAE;AACT;;AADS,SAQbC,YARa,GAQCC,CAAD,IAAM;AACf,YAAM;AAACC,QAAAA,IAAD;AAAOC,QAAAA;AAAP,UAAgBF,CAAC,CAACG,MAAxB;AACA,WAAKC,QAAL,CAAc;AACV,SAACH,IAAD,GAAQC;AADE,OAAd;AAGH,KAbY;;AAAA,SAebG,YAfa,GAeCL,CAAD,IAAK;AACdA,MAAAA,CAAC,CAACM,cAAF;AACA,YAAMC,OAAO,GAAE;AACPC,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KADX;AAEPE,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AAFd,OAAf;AAKAC,MAAAA,KAAK,CAAC,6BAAD,EAA+B;AAChCC,QAAAA,MAAM,EAAE,MADwB;AAEhCC,QAAAA,OAAO,EAAC;AACF,oBAAU,kBADR;AAEJ,0BAAgB;AAFZ,SAFwB;AAMhCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,OAAf;AAN0B,OAA/B,CAAL,CAQGU,IARH,CAQQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EARb,EASGF,IATH,CASQG,KAAK,IAAG;AACV,YAAIA,KAAK,CAAC,UAAD,CAAT,EAAsB;AAClBC,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,KAAK,CAAC,UAAD,CAAtC;AACA,eAAKG,KAAL,CAAWC,WAAX,CAAuBJ,KAAvB;AACA,eAAKG,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH,SAJD,MAIK;AACDC,UAAAA,KAAK,CAACP,KAAK,CAAC,KAAD,CAAN,CAAL;AACH;AACJ,OAjBH;AAkBD,KAxCU;;AAET,SAAKX,KAAL,GAAW;AACPD,MAAAA,KAAK,EAAE,EADA;AAEPE,MAAAA,QAAQ,EAAE;AAFH,KAAX;AAIH;;AAoCDkB,EAAAA,MAAM,GAAE;AACN,wBAEI;AAAM,MAAA,QAAQ,EAAE,KAAKvB,YAArB;AAAA,8BACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,KAAK,EAAE,KAAKI,KAAL,CAAWD,KAAlD;AAAyD,QAAA,WAAW,EAAE,OAAtE;AAA8E,QAAA,QAAQ,EAAE,KAAKT;AAA7F;AAAA;AAAA;AAAA;AAAA,cADJ,eACgH;AAAA;AAAA;AAAA;AAAA,cADhH,eAEI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAC,UAA5B;AAAuC,QAAA,KAAK,EAAE,KAAKU,KAAL,CAAWC,QAAzD;AAAmE,QAAA,WAAW,EAAE,UAAhF;AAA2F,QAAA,QAAQ,EAAE,KAAKX;AAA1G;AAAA;AAAA;AAAA;AAAA,cAFJ,eAE6H;AAAA;AAAA;AAAA;AAAA,cAF7H,eAGI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,sBAAW,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA,kBAAK,KAAKU,KAAL,CAAWoB;AAAhB;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AASD;;AArD2B;;AAwD9B,oBAAepC,UAAU,CAACI,KAAD,CAAzB","sourcesContent":["import React from 'react'\nimport { Component } from 'react';\nimport {withRouter} from 'react-router';\n// import {Button} from 'react-bootstrap'\nimport { Button, Checkbox, Form } from 'semantic-ui-react'\n\n\nclass Login extends Component {\n  constructor(){\n      super()\n      this.state={\n          email: \"\",\n          password: \"\",\n      }\n  }\n\n  handleChange=(e)=> {\n      const {name, value} = e.target\n      this.setState({\n          [name]: value\n      })\n  }\n\n  handleSubmit=(e)=>{\n      e.preventDefault()\n      const logUser= {\n              email: this.state.email,            \n              password: this.state.password    \n      }\n      \n      fetch('http://localhost:3000/login',{\n          method: 'POST',\n          headers:{\n                \"Accept\": \"application/json\",\n              'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(logUser)\n        })\n        .then(res=>res.json())\n        .then(token=> {\n            if (token[\"auth_key\"]){\n                localStorage.setItem('auth_key', token[\"auth_key\"])\n                this.props.handleLogin(token)\n                this.props.history.push('/dashboard')\n            }else{\n                alert(token[\"msg\"])\n            }\n        })\n    }\n\n  render(){\n    return (\n        \n        <form onSubmit={this.handleSubmit}>\n            <input type=\"text\" name=\"email\" value={this.state.email} placeholder =\"Email\" onChange={this.handleChange}/><br></br>        \n            <input type=\"password\" name=\"password\" value={this.state.password} placeholder= \"Password\" onChange={this.handleChange}/><br></br>\n            <Button type=\"submit\" text-align=\"center\">Submit</Button>\n            <h4>{this.state.errorMsg}</h4>\n        </form>\n    )\n  }\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}