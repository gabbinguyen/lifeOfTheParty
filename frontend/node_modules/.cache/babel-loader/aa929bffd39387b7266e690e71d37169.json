{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontend/src/components/EventContainer.js\";\nimport React, { Component } from 'react';\nimport EventCard from './EventCard';\nimport { Button, Card, Row, Col } from 'react-bootstrap';\nimport NewEvent from './NewEvent';\nlet eventsURL = 'http://localhost:3000/events/';\nexport default class EventContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      events: []\n    };\n\n    this.newEventHandler = data => {\n      this.setState({\n        events: [...this.state.events],\n        data\n      });\n    };\n\n    this.handleDelete = event => {\n      fetch(`http://localhost:3000/events/${event.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Auth-Key': localStorage.getItem('auth_key')\n        }\n      });\n      let array = this.state.events;\n      let i = array.indexOf(event);\n\n      if (i > -1) {\n        array.splice(i, 1);\n      }\n\n      this.setState({\n        events: array\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(eventsURL, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Auth-Key': localStorage.getItem('auth_key')\n      }\n    }).then(res => res.json()).then(events => {\n      this.setState({\n        events\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.cart_items !== this.state.cart_items) {\n      fetch(item_orderUrl).then(res => res.json()).then(cart_items => this.setState({\n        cart_items\n      }));\n    }\n  }\n\n  render() {\n    const myEvents = this.state.events.map(event => /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(EventCard, {\n        event: event,\n        name: event.name,\n        date: event.date,\n        activities: event.activities,\n        accommodations: event.accommodations,\n        expenses: event.expenses,\n        flights: event.flights,\n        location: event.location,\n        handleDelete: this.handleDelete,\n        handleEditEvent: this.handleEditEvent\n      }, event.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(NewEvent, {\n          events: this.state.events,\n          newEvent: this.newEventHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 107\n      }, this), \"Existing Events\", myEvents]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/gabbinguyen/Flatiron/code/Projects/LifeOfTheParty/frontend/src/components/EventContainer.js"],"names":["React","Component","EventCard","Button","Card","Row","Col","NewEvent","eventsURL","EventContainer","state","events","newEventHandler","data","setState","handleDelete","event","fetch","id","method","headers","localStorage","getItem","array","i","indexOf","splice","componentDidMount","then","res","json","componentDidUpdate","prevProps","prevState","cart_items","item_orderUrl","render","myEvents","map","name","date","activities","accommodations","expenses","flights","location","handleEditEvent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport EventCard from './EventCard'\nimport {Button, Card, Row, Col} from 'react-bootstrap'\nimport NewEvent from './NewEvent'\n\nlet eventsURL = 'http://localhost:3000/events/'\n\nexport default class EventContainer extends Component {\n    state={\n        events: []\n    }\n\n    componentDidMount(){\n        fetch(eventsURL, {\n            method:'GET',\n            headers:{\n                'Content-Type': 'application/json',\n                'Auth-Key': localStorage.getItem('auth_key')\n            }\n        })\n        .then(res => res.json())\n        .then(events => {\n            this.setState({events})\n        })\n    }\n\n    newEventHandler = (data) => {\n        this.setState({events: [...this.state.events], data})\n    }\n\n    handleDelete = (event) => {\n        fetch(`http://localhost:3000/events/${event.id}`, {\n            method: 'DELETE',\n            headers:{\n                'Content-Type': 'application/json',\n                'Auth-Key': localStorage.getItem('auth_key')\n            }\n        })\n        let array = this.state.events;\n        \n        let i = array.indexOf(event);\n            if (i > -1) {\n                array.splice(i, 1);\n            }\n        this.setState({\n            events: array\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if (prevState.cart_items !== this.state.cart_items){\n           fetch(item_orderUrl)\n                   .then(res=>res.json())\n                   .then(cart_items=> this.setState({cart_items}))\n        }\n\n    }\n    \n\n    render() {\n        const myEvents = this.state.events.map(event => \n            <Card > \n                <EventCard \n                    key={event.id}\n                    event={event}\n                    name={event.name} \n                    date={event.date} \n                    activities={event.activities}\n                    accommodations={event.accommodations}\n                    expenses={event.expenses}\n                    flights={event.flights}\n                    location={event.location}\n                    handleDelete={this.handleDelete}\n                    handleEditEvent={this.handleEditEvent}\n                    />\n            </Card> \n            )\n\n        return (\n            <div>\n                <Button > <NewEvent events={this.state.events} newEvent={this.newEventHandler}/></Button> <br />\n                Existing Events\n                {myEvents}\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}